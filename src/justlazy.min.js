!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Justlazy=e()}(this,function(){"use strict";var t=function(t,r,n){var a=document.createElement("img");a.onload=function(){n&&n.call(a)},r.title&&(a.title=r.title),r.errorHandler&&a.setAttribute("onerror",r.errorHandler),r.srcset&&a.setAttribute("srcset",r.srcset),r.class&&a.setAttribute("class",r.class),a.alt=r.alt,a.src=r.src,e(t,a)},e=function(t,e){var r=t.parentNode;r&&r.replaceChild(e,t)},r=function(t){return{src:t.getAttribute("data-src"),"class":t.getAttribute("data-class"),alt:t.getAttribute("data-alt"),title:t.getAttribute("data-title"),errorHandler:t.getAttribute("data-error-handler"),srcset:t.getAttribute("data-srcset")}},n=function(t){return t||{}},a=function(e,a){var o=r(e);a=n(a),!o.src||!o.alt&&""!==o.alt||!o.class&&""!==o.class?a.onerrorCallback&&a.onerrorCallback.call(e):t(e,o,a.onloadCallback)},o=function(t,e){var r=window.innerHeight||document.documentElement.clientHeight,n=e||0;return t.getBoundingClientRect().top-r<=n},l=function(t,e){var r=function(n){o(t,e.threshold)&&(a(t,e),window.removeEventListener?window.removeEventListener(n.type,r,!1):window.detachEvent("on"+n.type,r))};return r},i=function(t,e){var r=n(e);if(o(t,r.threshold))a(t,e);else{var i=l(t,r);window.addEventListener?window.addEventListener("scroll",i,!1):window.attachEvent("onscroll",i)}},s=function(t,e){for(var r=document.querySelectorAll("."+t),n=0;n<r.length;++n)Justlazy.registerLazyLoad(r[n],e)};return{lazyLoad:a,registerLazyLoad:i,registerLazyLoadByClass:s}});