!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Justlazy=b()}(this,function(){"use strict";var a=function(a,c,d){var e=document.createElement("img");e.onload=function(){d&&d.call(e)},e.alt=c.alt,c.title&&(e.title=c.title),c.errorHandler&&e.setAttribute("onerror",c.errorHandler),c.srcset&&e.setAttribute("srcset",c.srcset),e.src=c.src,b(a,e)},b=function(a,b){var c=a.parentNode;c&&c.replaceChild(b,a)},c=function(a){return{src:a.getAttribute("data-src"),alt:a.getAttribute("data-alt"),title:a.getAttribute("data-title"),errorHandler:a.getAttribute("data-error-handler"),srcset:a.getAttribute("data-srcset")}},d=function(a){return a||{}},e=function(b,e){var f=c(b);e=d(e),f.src&&(f.alt||""===f.alt)?a(b,f,e.onloadCallback):e.onerrorCallback&&e.onerrorCallback.call(b)},f=function(a,b){var c=window.innerHeight||document.documentElement.clientHeight,d=b||0;return a.getBoundingClientRect().top-c<=d},g=function(a,b){var c=function(d){f(a,b.threshold)&&(e(a,b),window.removeEventListener?window.removeEventListener(d.type,c,!1):window.detachEvent("on"+d.type,c))};return c},h=function(a,b){var c=d(b);if(f(a,c.threshold))e(a,b);else{var h=g(a,c);window.addEventListener?window.addEventListener("scroll",h,!1):window.attachEvent("onscroll",h)}},i=function(a,b){for(var c=document.querySelectorAll("."+a),d=0;d<c.length;++d)Justlazy.registerLazyLoad(c[d],b)};return{lazyLoad:e,registerLazyLoad:h,registerLazyLoadByClass:i}});