!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Justlazy=b()}(this,function(){"use strict";var a=function(a,c,d,e,f){var g=document.createElement("img");g.onload=function(){d&&d.call(g),b(a,g,f)},g.onerror=function(){e&&e.call(g),b(a,g,f)},c.title&&(g.title=c.title),c.srcset&&g.setAttribute("srcset",c.srcset),g.alt=c.alt,g.src=c.src},b=function(a,b,c){var d=a.parentNode;d&&(d.replaceChild(b,a),c&&c.call(b))},c=function(a){return{src:a.getAttribute("data-src"),alt:a.getAttribute("data-alt"),title:a.getAttribute("data-title"),srcset:a.getAttribute("data-srcset")}},d=function(a){return a||{}},e=function(a,b){var c=window.innerHeight||document.documentElement.clientHeight,d=b||0;return a.getBoundingClientRect().top-c<=d},f=function(a,b){var c=function(d){e(a,b.threshold)&&(g(a,b),window.removeEventListener?window.removeEventListener(d.type,c,!1):window.detachEvent("on"+d.type,c))};return c},g=function(b,e){var f=c(b),g=d(e);f.src&&(f.alt||""===f.alt)&&a(b,f,g.onloadCallback,g.onerrorCallback,g.onreplaceCallback)},h=function(a,b){var c=d(b);if(e(a,c.threshold))g(a,b);else{var h=f(a,c);window.addEventListener?window.addEventListener("scroll",h,!1):window.attachEvent("onscroll",h)}},i=function(a,b){for(var c=document.querySelectorAll("."+a),d=0;d<c.length;++d)Justlazy.registerLazyLoad(c[d],b)};return{lazyLoad:g,registerLazyLoad:h,registerLazyLoadByClass:i}});